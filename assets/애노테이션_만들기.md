# 애노테이션 직접 만들기

 `@Qualifire("mainDiscountPolicy")`와 같이 적으면, (문자이고, 문자는 컴파일 타임에 체크가 되지 않기 때문에) 컴파일 시 타입 체크를 할 수 없다. 이를 해결하기 위해 아래와 같이 애노테이션을 만들 수 있다.
 
```java
package hello.core.annotation;

import org.springframework.beans.factory.annotation.Qualifier;

import java.lang.annotation.*;

@Target({ElementType.FIELD,ElementType.METHOD,ElementType.PARAMETER,ElementType.TYPE,ElementType.ANNOTATION_TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Inherited
@Documented
@Qualifier("mainDiscountPolicy")
public @interface MainDiscountPolicy {
}
```

```java
@Component
@MainDiscountPolicy
public class RateDiscountPolicy implements DiscountPolicy {}
```

* 생성자 자동 주입
```java
@Component
public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;
    
    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, 
                            @MainDiscountPolicy DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
}
```

* 수정자 자동 주입
```java
@Component
public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public setDiscountPilicy(@MainDiscountPolicy DiscountPolicy discountPolicy) {
        return discountPolicy;
    }
} 
```