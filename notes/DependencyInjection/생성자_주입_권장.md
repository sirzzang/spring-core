# 생성자 주입
 
 최근 권장되는 의존관계 주입 방식은 생성자 주입. 스프링을 포함한 대부분의 DI 프레임워크가 권장. 프레임워크에 의존하지 않고, 순수한 자바 언어의 특징을 잘 살리는 방법

- **불변**
    - 대부분의 의존관계 주입은 한 번만 일어나고, 종료 시점까지 의존관계를 변경할 일이 거의 없음
      - 애초에 의존관계는 어플리케이션 종료 전까지 불변해야 함
      - 생성자 주입은 객체 생성 시 1번만 호출되므로, 이후에 호출되는 일이 없어 불변의 설계 가능
    - 수정자 주입 사용 시, `setXX` 메소드를 public으로 열어 두어야 함
      - 실수로 변경할 수 있고, 변경하면 안 되는 메서드를 열어 두는 것은 좋지 않음

- **누락**
  - 스프링 프레임워크 없이 순수한 자바 코드로 단위 테스트하는 경우, 수정자를 통한 의존관계 주입 시 문제가 발생할 수 있음
    - 테스트에서도 수정자를 통해 주입해주어야 함
    - 그런데 테스트를 짤 때는 의존관계가 명확하게 보이지 않음
  - 생성자 주입을 하면, 컴파일 오류가 나기 때문에 명확하게 잡을 수 있음
  - 생성자 주입 + final 키워드를 사용해서 막을 수 있음

## 롬복

생성자 주입이 좋은데, 코드가 많다. 롬복을 사용하는 것이 좋다.
* [롬복과 최신 트렌드](/notes/DependencyInjection/롬복.md)
